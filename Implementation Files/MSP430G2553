/*
 * MSP430G2.c
 *
 *  Created on: Sep 18, 2018
 *      Author: colby
 */

#include <msp430.h> 

void Simpleblink()
{
    P1SEL &= ~BIT0;
    P1DIR |= BIT0; // configure P1.0 as output


    volatile unsigned int i;        // volatile to prevent optimization

    P1OUT = 0; // Sets all output register bits to 0

    while(1)
    {
        P1OUT ^= BIT0; // toggle P1.0
        for(i=10000; i>0; i--);  // delay
    }
}


void Multiblink()
{
    P1SEL &= (~BIT0 & ~BIT6);
    P2SEL &= (~BIT1 & ~BIT3 & ~BIT5);

    P1DIR |= (BIT0 | BIT6); // configure P1.0 as output
    P2DIR |= (BIT1 | BIT3 | BIT5);


    volatile unsigned int i;        // volatile to prevent optimization

    P1OUT = 0; // Sets all output register bits to 0
    P2OUT = 0;

    while(1)
    {
        P1OUT ^= (BIT0); // toggle P1.0
        for(i=10000; i>0; i--);     // delay

        P1OUT ^= (BIT0 | BIT6);

        for(i = 10000; i>0; i--);

        P1OUT ^= (BIT0 | BIT6);
               if(P2OUT == (BIT1 | BIT3 | BIT5))
                   P2OUT = 0;
               else if(P2OUT & BIT1) {
                   P2OUT &= ~BIT1;
                   P2OUT |= BIT3;
               }
               else if(P2OUT & BIT3){
                   P2OUT &= ~BIT3;
                   P2OUT |= BIT5;
               }
               else if(P2OUT & BIT5){
                   P2OUT |= BIT1 | BIT3;
               }
               else
                   P2OUT |= BIT1;
        for(i = 10000; i>0; i--);
    }
}

void Buttonpress()
{
    P1SEL &= (~BIT0 & ~BIT3);
    P1DIR |= BIT0; // configure P1.0 as output
    P1DIR &= ~BIT3;


    volatile unsigned int i;        // volatile to prevent optimization

    P1OUT = 0; // Sets all output register bits to 0
    P1REN |= BIT3;  // Enable Pullup/down Resistor for SW1
    P1OUT |= BIT3;  // Sets to pull up

    while(1)
    {

    if(P1IN & BIT3)
        P1OUT |= BIT0;
    else
        P1OUT &= ~BIT0;

    }
}


